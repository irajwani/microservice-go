{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/IRajwani/code/web/systems/evolut/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 43, "column": 0}, "map": {"version":3,"sources":["file:///Users/IRajwani/code/web/systems/evolut/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///Users/IRajwani/code/web/systems/evolut/app/exchange/page.tsx"],"sourcesContent":["\"use client\";\nimport { useRouter } from \"next/navigation\";\nimport { ArrowLeft, ArrowDown } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { useState } from \"react\";\nimport { Loader2, AlertCircle } from \"lucide-react\";\n\nexport default function ExchangePage() {\n  const router = useRouter();\n  const [from, setFrom] = useState({ code: \"USD\", symbol: \"$\", balance: 4900 });\n  const [to, setTo] = useState({ code: \"EUR\", symbol: \"â‚¬\", balance: 114.7125 });\n  const [rate, setRate] = useState(1.1361); // 1 from = rate to\n  const [amount, setAmount] = useState<string>(\"100\"); // from amount (no symbol)\n  const [flipped, setFlipped] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const [submitError, setSubmitError] = useState<string | null>(null);\n  const [jobId, setJobId] = useState<string | null>(null);\n  // jobId indicates a successful submission already queued\n\n  const parsed = parseFloat(amount || \"0\") || 0;\n  const toAmount = parsed * rate;\n\n  const formatNumber = (n: number, maxDecimals = 6) => {\n    if (!isFinite(n)) return \"0\";\n    const fixed = n.toFixed(maxDecimals);\n    return fixed.replace(/\\.?(0+)$/, \"\");\n  };\n\n  const swap = () => {\n    setFrom(to);\n    setTo(from);\n    setRate(prev => (prev === 0 ? 0 : 1 / prev));\n    // set new amount to previous toAmount (rounded) for continuity\n    if (!isNaN(toAmount) && toAmount > 0) {\n      const next = formatNumber(toAmount, 6);\n      setAmount(next);\n    }\n    setFlipped(f => !f);\n  };\n\n  const canSubmit = parsed > 0 && !submitting && !jobId;\n\n  const handleSubmit = async () => {\n    if (!canSubmit) return;\n    setSubmitting(true);\n    setSubmitError(null);\n    setJobId(null);\n  // no queued UI text variant; we keep button label but disable after submit\n    try {\n      const body = {\n        client_id: 'c1',\n        source_currency: from.code,\n        target_currency: to.code,\n        source_amount: parsed,\n      };\n      const res = await fetch('/api/jobs', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(body) });\n      if (!res.ok) {\n        const txt = await res.text();\n        throw new Error(txt);\n      }\n      const data = await res.json();\n      setJobId(data.job_id);\n      // Wait 5 seconds before navigating back to home page and reloading balances and transactions\n      setTimeout(() => {\n        router.push(\"/\");\n        // Trigger a page refresh to reload balances and transactions\n        window.location.reload();\n      }, 5000);\n    } catch (e) {\n      setSubmitError(e instanceof Error ? e.message : 'Failed to submit job');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen w-full flex flex-col relative pb-12\">\n        {/* Top bar */}\n        <div className=\"flex items-center justify-between px-6 pt-8 pb-4\">\n            <button onClick={() => router.back()} className=\"flex items-center gap-1 text-sm font-medium hover:opacity-80\">\n            <ArrowLeft className=\"w-4 h-4\" /> Back\n            </button>\n            <h1 className=\"text-lg font-semibold\">Sell {from.code}</h1>\n            <div className=\"w-10\" />\n        </div>\n\n        {/* Rate banner */}\n        <div className=\"px-6 mb-6\">\n            <div className=\"inline-flex items-center gap-2 px-3 py-1.5 text-xs font-medium bg-glass-primary text-accent shadow-glass-border shadow\">\n            <span>Rate</span>\n            <span className=\"font-mono\">{from.symbol}1 = {to.symbol}{rate.toFixed(4)}</span>\n            </div>\n        </div>\n\n\n\n        {/* From currency panel */}\n        <div className=\"flex-1 flex flex-col items-center px-4 w-full\">\n          {/* From + To Panels Wrapper */}\n          <div className=\"w-full max-w-sm relative mt-2 grid gap-2\">\n            {/* From Panel */}\n            <div className=\"glass-card p-6 rounded-xl\">\n            <div className=\"flex items-start justify-between\">\n              <span className=\"text-2xl font-semibold tracking-wide select-none\">{from.code}</span>\n              <input\n                type=\"text\"\n                inputMode=\"decimal\"\n                autoComplete=\"off\"\n                className=\"w-44 bg-transparent text-2xl font-light text-right outline-none focus:ring-0 placeholder:text-muted-foreground/40\"\n                value={amount ? `-${from.symbol}${amount}` : \"\"}\n                onChange={(e) => {\n                  const v = e.target.value\n                    .replace(/[^0-9.]/g, \"\")\n                    .replace(/(\\.)(?=.*\\.)/g, \"\");\n                  setAmount(v);\n                }}\n                placeholder={`-${from.symbol}0`}\n              />\n            </div>\n              <div className=\"mt-3\">\n                <span className=\"text-xs text-muted-foreground\">Balance: {from.symbol}{from.balance.toFixed(2)}</span>\n              </div>\n            </div>\n            {/* To Panel */}\n            <div className=\"glass-tertiary p-6 rounded-xl border border-border/60 relative\">\n              <div className=\"flex items-start justify-between\">\n                <span className=\"text-xl font-semibold tracking-wide select-none\">{to.code}</span>\n                <span className=\"text-2xl font-light text-right min-w-[7rem]\">+{to.symbol}{toAmount ? formatNumber(toAmount, 6) : \"0\"}</span>\n              </div>\n              <div className=\"mt-3\">\n                <span className=\"text-xs text-muted-foreground\">Balance: {to.symbol}{to.balance.toFixed(2)}</span>\n              </div>\n            </div>\n            {/* Overlapping swap icon centered between panels using absolute + translate */}\n            <button\n              type=\"button\"\n              onClick={swap}\n              className={`absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-30 grid place-items-center w-14 h-14 rounded-full bg-background/80 dark:bg-gray-900/80 border border-border shadow-md hover:shadow-lg backdrop-blur-sm transition-all duration-500 ease-out ${flipped ? 'rotate-180' : 'rotate-0'}`}\n              aria-label=\"Swap currencies\"\n            >\n              <ArrowDown className=\"w-6 h-6 transition-transform duration-500\" />\n            </button>\n          </div>\n          {/* Action Button inside same logical section */}\n          <div className=\"mt-32 space-y-3 w-full max-w-sm\">\n            {submitError && (\n              <div className=\"flex items-center gap-2 text-sm text-red-600 bg-red-50/70 dark:bg-red-900/30 border border-red-300/50 dark:border-red-800/50 px-3 py-2 rounded-md\">\n                <AlertCircle className=\"w-4 h-4\" />\n                <span className=\"line-clamp-2\">{submitError}</span>\n              </div>\n            )}\n            {jobId && !submitError && (\n              <div className=\"flex items-center justify-between text-xs text-muted-foreground px-1\">\n                <span className=\"truncate\">Job: {jobId}</span>\n                {submitting && <Loader2 className=\"w-4 h-4 animate-spin\" />}\n              </div>\n            )}\n            <Button\n              onClick={handleSubmit}\n              disabled={!canSubmit}\n              className=\"w-full h-12 text-base font-medium relative bg-accent hover:bg-green-600 text-white border-green-500 hover:border-green-600 disabled:bg-green-300 disabled:border-green-300\"\n            >\n              {submitting && <Loader2 className=\"w-5 h-5 animate-spin absolute left-4\" />}\n              Verify order\n            </Button>\n          </div>\n        </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}